# Упрощенная система эффектов воды

## Описание
Создана упрощенная система для стирания плесени под курсором с двумя визуальными эффектами:

1. **WaterBrushTrail** - голубой след-кисть с прозрачностью (как в Paint)
2. **WaterParticleEffect** - разлетающиеся партиклы (как эффект сварки/воды)

## Компоненты

### SimpleWaterController
- **Основной контроллер** для стирания плесени под курсором
- Автоматически создает эффекты при отсутствии
- Простая логика без физики воды

### WaterBrushTrail
- Создает **голубые полупрозрачные следы** везде, где прошла "кисть"
- Следы постепенно исчезают с настраиваемой скоростью
- Эффект "мокрой кисти" как в Paint

### WaterParticleEffect
- Создает **разлетающиеся партиклы** при попадании в плесень
- Простая физика без Rigidbody
- Эффект как от сварки или брызг воды

## Автоматическая интеграция

### HoseEquipment
- Автоматически создает `SimpleWaterController` при экипировке шланга
- Эффекты работают сразу без настройки

### MoldInteractable
- Создает временный `SimpleWaterController` при взаимодействии с плесенью
- Эффекты работают при очистке плесени

## Настройка эффектов

### WaterBrushTrail
```csharp
[SerializeField] private float brushSize = 0.5f;           // Размер кисти (жирная кисть)
[SerializeField] private float trailLifetime = 3f;         // Время жизни следа
[SerializeField] private float minDistance = 0.05f;        // Минимальное расстояние между следами
[SerializeField] private Color brushColor = new Color(0.5f, 0.8f, 1f, 0.4f); // Голубой цвет
```

### WaterParticleEffect
```csharp
[SerializeField] private int particleCount = 12;           // Количество партиклов
[SerializeField] private float particleLifetime = 1.5f;    // Время жизни партикла
[SerializeField] private float minSpeed = 3f;             // Минимальная скорость
[SerializeField] private float maxSpeed = 8f;               // Максимальная скорость
[SerializeField] private float minSize = 0.25f;           // Минимальный размер партикла
[SerializeField] private float maxSize = 0.55f;           // Максимальный размер партикла
```

### SimpleWaterController
```csharp
[SerializeField] private float wateringRange = 3f;        // Максимальная дальность полива
[SerializeField] private float cleanRadius = 0.5f;        // Радиус очистки
[SerializeField] private float cleanInterval = 0.05f;     // Интервал между очистками
```

## Как использовать

### 1. Экипировка шланга
- Возьмите шланг в руки
- Нажмите и удерживайте ЛКМ для стирания плесени
- Эффекты работают автоматически

### 2. Взаимодействие с плесенью
- Подойдите к плесени и нажмите клавишу взаимодействия
- Эффекты будут работать при очистке

## Визуальные эффекты

### Голубой след-кисть
- **Жирная кисть** размером 0.5 единицы создает заметные следы
- Полупрозрачные голубые следы появляются везде, где прошла "кисть"
- Создает эффект "мокрой дорожки" после очистки
- Следы постепенно исчезают через 3 секунды
- Высокое качество текстуры (128x128 пикселей)

### Разлетающиеся партиклы
- При **реальном контакте** с плесенью создаются 12 крупных партиклов
- Размер партиклов: 0.25-0.55 единиц (крупные и заметные)
- Партиклы разлетаются в разные стороны с реалистичной траекторией
- Исчезают через 1.5 секунды
- **Исправлен баг**: партиклы не появляются на уже очищенной плесени

## Производительность
- Системы автоматически ограничивают количество эффектов
- Старые следы и партиклы удаляются автоматически
- Рекомендуется не превышать 20 следов и 50 партиклов одновременно

## Техническая информация

### Без физики
- Никаких Rigidbody или сложной физики
- Простые математические расчеты для движения партиклов
- Легкая система для мобильных устройств

### Автоматическое создание
- Все компоненты создаются автоматически
- Никакой ручной настройки не требуется
- Системы самоочищаются при уничтожении

## Устранение неполадок

### Эффекты не работают
1. Убедитесь, что у вас есть лейка с водой
2. Проверьте, что плесень не полностью очищена
3. Убедитесь, что объекты плесени имеют компонент `MoldSurface`

### Производительность
- Если игра тормозит, уменьшите `maxTrails` и `particleCount`
- Системы автоматически ограничивают количество эффектов
