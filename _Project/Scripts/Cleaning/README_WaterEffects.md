# Система эффектов воды

## Описание
Добавлены два новых компонента для улучшения визуальных эффектов струи воды:

1. **WaterTrailSystem** - создает голубые полупрозрачные следы от струи воды
2. **WaterDropletsEffect** - создает эффект разлетающихся капель при стирании плесени

## Настройка в Unity

### 1. Настройка WaterJetController
1. Выберите объект с компонентом `WaterJetController`
2. В инспекторе найдите секцию "Visual Effects"
3. Добавьте ссылки на новые компоненты:
   - **Trail System**: перетащите объект с `WaterTrailSystem`
   - **Droplets Effect**: перетащите объект с `WaterDropletsEffect`

### 2. Создание объекта WaterTrailSystem
1. Создайте пустой GameObject
2. Добавьте компонент `WaterTrailSystem`
3. Настройте параметры:
   - **Trail Lifetime**: время жизни следа (рекомендуется 2-3 секунды)
   - **Trail Fade Speed**: скорость исчезновения (1.0)
   - **Min Trail Distance**: минимальное расстояние между следами (0.1)
   - **Max Trails**: максимальное количество следов (50)
   - **Trail Color**: голубой полупрозрачный цвет
   - **Trail Size**: размер следа (0.2)

### 3. Создание объекта WaterDropletsEffect
1. Создайте пустой GameObject
2. Добавьте компонент `WaterDropletsEffect`
3. Настройте параметры:
   - **Droplet Count**: количество капель (8)
   - **Droplet Lifetime**: время жизни капли (1.5)
   - **Min/Max Speed**: диапазон скорости капель (2-6)
   - **Gravity**: сила тяжести (9.8)
   - **Droplet Color**: цвет капель
   - **Min/Max Size**: диапазон размеров капель

## Автоматическое создание префабов
Если вы не назначите префабы вручную, системы автоматически создадут их при запуске игры. Это удобно для быстрого тестирования.

## Рекомендуемые настройки

### WaterTrailSystem
- Trail Lifetime: 2.5
- Trail Fade Speed: 1.0
- Min Trail Distance: 0.15
- Max Trails: 30
- Trail Color: RGBA(0.5, 0.8, 1.0, 0.3)
- Trail Size: 0.2

### WaterDropletsEffect
- Droplet Count: 6-10
- Droplet Lifetime: 1.5
- Min Speed: 2
- Max Speed: 5
- Gravity: 8
- Min Size: 0.05
- Max Size: 0.12

## Производительность
- Системы автоматически ограничивают количество активных эффектов
- Старые следы и капли удаляются автоматически
- Рекомендуется не превышать 50 следов и 20 капель одновременно

## Интеграция
Системы автоматически интегрированы в следующие компоненты:

### 1. HoseEquipment
- Автоматически создает `WaterJetController` при экипировке шланга
- Создает системы эффектов (`WaterTrailSystem` и `WaterDropletsEffect`)
- Использует новые эффекты при стрельбе из шланга

### 2. MoldInteractable  
- Создает временный `WaterJetController` при взаимодействии с плесенью
- Автоматически настраивает системы эффектов
- Эффекты работают при очистке плесени

### 3. Ручная настройка (опционально)
Если вы хотите использовать `WaterJetController` на других объектах, настройте ссылки в инспекторе:
- **Trail System**: перетащите объект с `WaterTrailSystem`
- **Droplets Effect**: перетащите объект с `WaterDropletsEffect`
